赛博朋克风微信小程序《CyberSnake》产品需求文档  
版本：1.0  
日期：2025-08-20

---

1. 产品背景  
   • 微信小游戏生态成熟，用户基数大；赛博朋克视觉风格在年轻人中极具吸引力。  
   • 经典贪吃蛇玩法零门槛，可快速上手，与霓虹、黑客、芯片等赛博元素结合，形成差异化记忆点。  

2. 目标与定位  
   • 打造一款「轻量、炫酷、可炫耀」的赛博朋克贪吃蛇小游戏。  
   • 核心指标：  
     – 7 日留存 ≥ 30%  
     – 次日分享率 ≥ 15%  

3. 目标用户  
   • 15-35 岁微信用户，以高校学生、二次元/科技爱好者为主。  
   • 碎片化时间娱乐，偏好视觉冲击与社交分享。

4. 需求范围（In Scope / Out of Scope）  
   • 仅实现游戏核心功能 + 排行榜 + 分享战绩（无商城、无广告、无账号体系）。  
   • 适配微信小游戏框架，支持 iOS & Android 微信客户端。  
   • 纯前端实现，无需后端；排行榜使用微信开放数据域。

5. 功能模块  

| 模块 | 功能点 | 描述 | 优先级 |
|---|---|---|---|
| 启动页 | 冷启动动画 | 3s Logo+霓虹扫描线 → 主菜单 | P0 |
| 主菜单 | 开始游戏 / 排行榜 / 分享战绩 | 赛博 UI，按钮带脉冲光效 | P0 |
| 游戏页 | 经典贪吃蛇 | 地图 20×20 网格，蛇初始长度 3；吃到芯片+1 分、长度+1；撞墙/撞自己 Game Over | P0 |
|  | 操控方式 | 手势滑动（上下左右），支持虚拟方向键（可选） | P0 |
|  | 暂停 / 恢复 | 右上角「II」按钮，暂停时显示半透明遮罩 | P0 |
| 结算页 | 得分展示 | 霓虹数字 + “UPLOADING…” 动效 | P0 |
|  | 再来一局 / 分享战绩 | 分享卡片：得分+赛博背景+「I AM THE SYSTEM」标语 | P0 |
| 排行榜 | 好友榜 | 调用 wx.getFriendCloudStorage，展示前 20 | P1 |
| 设置 | 音效 / 振动 | 默认开，可关闭 | P2 |

6. 美术与音效风格  
   • 主色：#0affff、#ff00ff、#001122  
   • 字体：DSEG14 类 LCD 数字 + 思源黑体  
   • 元素：  
     – 蛇：半透明霓虹光带，头部为脉冲晶格  
     – 食物：旋转的 3D 芯片模型  
     – 背景：动态网格 + 雨丝效果  
   • 音效：  
     – 吃芯片：短促电子音「beep-up」  
     – Game Over：故障电流声 + 心跳骤停  
     – BGM：120BPM 合成器循环（30s 可无缝）

7. 技术实现要点  

7.1 运行环境  
   • 微信小游戏基础库 ≥ 2.20  
   • Canvas 2D 渲染，帧率 60 FPS  
   • 屏幕适配：逻辑分辨率 750rpx，物理像素自适应  

7.2 核心数据结构  
   • snake: Array<{x,y}>  
   • direction: ‘left’ | ‘right’ | ‘up’ | ‘down’  
   • food: {x,y}  
   • score: number  

7.3 关键算法  
   • 移动：pop tail, unshift newHead  
   • 碰撞：边界检测、自身坐标集合检测  
   • 食物刷新：随机空坐标，避免与蛇重叠  

7.4 性能优化  
   • 对象池复用粒子特效  
   • 避免频繁 setData，使用离屏 Canvas 预渲染背景  
   • 开放数据域与主域通过 sharedCanvas 通信  

7.5 目录结构（miniprogram-game）  
   /  
   ├── game.js                 // 游戏主循环  
   ├── scenes/  
   │   ├── menu.js  
   │   ├── game.js  
   │   └── over.js  
   ├── utils/  
   │   └── audio.js  
   ├── images/  
   ├── audio/  
   └── open-data/             // 排行榜域  

8. 交互流程图  

启动 → 3s Logo → 主菜单  
                │  
                ├─ 开始游戏 → 游戏 → 结算 → 主菜单  
                ├─ 排行榜 → 主菜单  
                └─ 分享战绩 → 微信分享面板 → 返回主菜单  

9. 数据埋点（无需上报服务器，使用微信分析）  
   • 启动次数  
   • 每局得分、时长  
   • 分享次数、入口  

10. 风险与限制  
   • 低端机帧率下降：降级关闭背景雨丝、降低光效粒子数量。  
   • 微信审核：避免血腥、恐怖元素，霓虹闪烁频率 < 3Hz 以防癫痫警告。  

11. 版本计划  
   • v1.0：核心玩法 + 排行榜 + 分享（2 周）  
   • v1.1：增加皮肤切换、本地成就（可选）

12. 附录 – 接口清单（前端）  

| 微信 API | 用途 |
|---|---|
| wx.createCanvas | 渲染主画布 |
| wx.onTouchStart / Move / End | 滑动控制 |
| wx.getFriendCloudStorage | 排行榜 |
| wx.shareAppMessage | 分享战绩 |
| wx.setPreferredFramesPerSecond | 60 FPS |

—— END ——