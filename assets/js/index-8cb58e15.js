import{_ as t,n as e}from"./main-096a2968.js";import{o as s,c as a,d as i,F as n,f as o,n as l,g as r,t as c,h,i as g,j as m}from"./vendor-2ba4b4b0.js";const p={class:"logo-section"},d={key:0,class:"progress-section"},w={class:"progress-bar"},f={class:"progress-text cyber-text"};const u={class:"container"},v={key:0,class:"splash-screen"},y={key:1,class:"main-menu"},S={class:"menu-section"};const b=t({name:"IndexPage",components:{SplashScreen:t({name:"SplashScreen",emits:["complete"],data:()=>({progress:0,startTime:0,duration:3e3,scanLines:[],showGlitch:!1,glitchX:0,glitchY:0,glitchWidth:0,glitchHeight:0,animationFrame:null}),computed:{logoOpacity(){return Math.min(2*this.progress,1)},logoScale(){return.5+.5*this.progress},subTextOpacity(){return Math.min(2*(this.progress-.3),1)}},mounted(){this.initScanLines(),this.startAnimation()},beforeUnmount(){this.animationFrame&&cancelAnimationFrame(this.animationFrame)},methods:{initScanLines(){for(let t=0;t<8;t++)this.scanLines.push({y:-50,speed:200+300*Math.random(),opacity:.3+.4*Math.random(),width:2+3*Math.random(),delay:200*t})},startAnimation(){this.startTime=Date.now(),this.animate()},animate(){const t=Date.now()-this.startTime;this.progress=Math.min(t/this.duration,1),this.updateScanLines(),this.progress>.8&&Math.random()<.1&&this.triggerGlitch(),this.progress>=1?this.completeAnimation():this.animationFrame=requestAnimationFrame(this.animate)},updateScanLines(){const t=window.innerHeight;this.scanLines.forEach(e=>{Date.now()-this.startTime>e.delay&&(e.y+=16*e.speed/1e3,e.y>t+50&&(e.y=-50))})},triggerGlitch(){this.showGlitch=!0,this.glitchX=Math.random()*window.innerWidth,this.glitchY=Math.random()*window.innerHeight,this.glitchWidth=100*Math.random(),this.glitchHeight=20*Math.random(),setTimeout(()=>{this.showGlitch=!1},100)},completeAnimation(){console.log("✅ Splash animation completed"),this.$emit("complete")},skipAnimation(){this.progress<1&&(console.log("⏭️ Skipping splash animation"),this.completeAnimation())}}},[["render",function(t,e,h,g,m,u){return s(),a("view",{class:"splash-container",onTap:e[0]||(e[0]=(...t)=>u.skipAnimation&&u.skipAnimation(...t))},[e[2]||(e[2]=i("view",{class:"grid-background"},null,-1)),(s(!0),a(n,null,o(m.scanLines,(t,e)=>(s(),a("view",{key:e,class:"scan-line",style:l({top:t.y+"px",opacity:t.opacity,height:t.width+"px",animationDelay:t.delay+"ms"})},null,4))),128)),i("view",p,[i("text",{class:"logo-text cyber-text",style:l({opacity:u.logoOpacity,transform:`scale(${u.logoScale})`})}," CYBERSNAKE ",4),m.progress>.3?(s(),a("text",{key:0,class:"sub-text cyber-text-secondary",style:l({opacity:u.subTextOpacity})}," SYSTEM INITIALIZING... ",4)):r("",!0)]),m.progress>.5?(s(),a("view",d,[i("view",w,[e[1]||(e[1]=i("view",{class:"progress-bg"},null,-1)),i("view",{class:"progress-fill cyber-glow",style:l({width:100*m.progress+"%"})},null,4)]),i("text",f,c(Math.floor(100*m.progress))+"%",1)])):r("",!0),m.progress>.8&&m.showGlitch?(s(),a("view",{key:1,class:"glitch-effect",style:l({left:m.glitchX+"px",top:m.glitchY+"px",width:m.glitchWidth+"px",height:m.glitchHeight+"px"})},null,4)):r("",!0)],32)}],["__scopeId","data-v-b1f3ba69"]])},data:()=>({showSplash:!0}),onLoad(){console.log("🎮 Index page loaded")},methods:{navigateTo:e,onSplashComplete(){this.showSplash=!1,console.log("✅ Splash animation completed")},startGame(){console.log("🎮 Starting game..."),this.navigateTo("game")},showLeaderboard(){console.log("📊 Showing leaderboard..."),this.navigateTo("leaderboard")},shareGame(){console.log("📤 Sharing game...");const t="CyberSnake - 赛博朋克贪吃蛇游戏\nI AM THE SYSTEM";navigator.share?navigator.share({title:"CyberSnake",text:t,url:window.location.href}).catch(t=>console.log("Share failed:",t)):navigator.clipboard.writeText(t+"\n"+window.location.href).then(()=>alert("已复制到剪贴板！")).catch(()=>alert("分享功能需要在支持的浏览器中使用"))}}},[["render",function(t,e,n,o,l,r){const c=h("SplashScreen");return s(),a("view",u,[e[2]||(e[2]=g('<view class="background-effects" data-v-4af50fdf><view class="grid-background" data-v-4af50fdf></view><view class="floating-particles" data-v-4af50fdf></view><view class="circuit-lines" data-v-4af50fdf></view><view class="scan-lines" data-v-4af50fdf></view></view>',1)),l.showSplash?(s(),a("view",v,[m(c,{onComplete:r.onSplashComplete},null,8,["onComplete"])])):(s(),a("view",y,[e[1]||(e[1]=i("view",{class:"title-section"},[i("text",{class:"main-title cyber-text"},"CYBERSNAKE"),i("text",{class:"sub-title cyber-text-secondary"},"NEURAL NETWORK ACTIVATED")],-1)),i("view",S,[i("button",{class:"menu-btn cyber-button cyber-pulse",onClick:e[0]||(e[0]=(...t)=>r.startGame&&r.startGame(...t))}," 开始游戏 ")])])),e[3]||(e[3]=i("view",{class:"bg-effects"},[i("view",{class:"grid-bg"}),i("view",{class:"scan-lines"})],-1))])}],["__scopeId","data-v-4af50fdf"]]);export{b as default};
