import{_ as t,n as e}from"./main-52d6cb59.js";import{o as a,c as s,d as i,F as n,f as o,n as r,g as l,h,i as c,j as d}from"./vendor-e0ccc5b7.js";const p={class:"logo-section"},g={key:0,class:"progress-section"},m={class:"progress-bar"};const y={class:"container"},w={class:"background-effects"},b={class:"dynamic-grid-container"},u={class:"light-beams"},f={class:"diagonal-waves"},x={class:"explosion-particles"},v={key:0,class:"splash-screen"},$={key:1,class:"main-menu"},M={class:"menu-section"};const S=t({name:"IndexPage",components:{SplashScreen:t({name:"SplashScreen",emits:["complete"],data:()=>({progress:0,startTime:0,duration:3e3,scanLines:[],showGlitch:!1,glitchX:0,glitchY:0,glitchWidth:0,glitchHeight:0,animationFrame:null}),computed:{logoOpacity(){return Math.min(2*this.progress,1)},logoScale(){return.5+.5*this.progress},subTextOpacity(){return Math.min(2*(this.progress-.3),1)}},mounted(){this.initScanLines(),this.startAnimation()},beforeUnmount(){this.animationFrame&&cancelAnimationFrame(this.animationFrame)},methods:{initScanLines(){for(let t=0;t<8;t++)this.scanLines.push({y:-50,speed:200+300*Math.random(),opacity:.3+.4*Math.random(),width:2+3*Math.random(),delay:200*t})},startAnimation(){this.startTime=Date.now(),this.animate()},animate(){const t=Date.now()-this.startTime;this.progress=Math.min(t/this.duration,1),this.updateScanLines(),this.progress>.8&&Math.random()<.1&&this.triggerGlitch(),this.progress>=1?this.completeAnimation():this.animationFrame=requestAnimationFrame(this.animate)},updateScanLines(){const t=window.innerHeight;this.scanLines.forEach(e=>{Date.now()-this.startTime>e.delay&&(e.y+=16*e.speed/1e3,e.y>t+50&&(e.y=-50))})},triggerGlitch(){this.showGlitch=!0,this.glitchX=Math.random()*window.innerWidth,this.glitchY=Math.random()*window.innerHeight,this.glitchWidth=100*Math.random(),this.glitchHeight=20*Math.random(),setTimeout(()=>{this.showGlitch=!1},100)},completeAnimation(){console.log("✅ Splash animation completed"),this.$emit("complete")},skipAnimation(){this.progress<1&&(console.log("⏭️ Skipping splash animation"),this.completeAnimation())}}},[["render",function(t,e,h,c,d,y){return a(),s("view",{class:"splash-container",onTap:e[0]||(e[0]=(...t)=>y.skipAnimation&&y.skipAnimation(...t))},[e[2]||(e[2]=i("view",{class:"grid-background"},null,-1)),(a(!0),s(n,null,o(d.scanLines,(t,e)=>(a(),s("view",{key:e,class:"scan-line",style:r({top:t.y+"px",opacity:t.opacity,height:t.width+"px",animationDelay:t.delay+"ms"})},null,4))),128)),i("view",p,[i("text",{class:"logo-text cyber-text",style:r({opacity:y.logoOpacity,transform:`scale(${y.logoScale})`})}," CYBERSNAKE ",4),d.progress>.3?(a(),s("text",{key:0,class:"sub-text cyber-text-secondary",style:r({opacity:y.subTextOpacity})}," SYSTEM INITIALIZING... ",4)):l("",!0)]),d.progress>.5?(a(),s("view",g,[i("view",m,[e[1]||(e[1]=i("view",{class:"progress-bg"},null,-1)),i("view",{class:"progress-fill cyber-glow",style:r({width:100*d.progress+"%"})},null,4)])])):l("",!0),d.progress>.8&&d.showGlitch?(a(),s("view",{key:1,class:"glitch-effect",style:r({left:d.glitchX+"px",top:d.glitchY+"px",width:d.glitchWidth+"px",height:d.glitchHeight+"px"})},null,4)):l("",!0)],32)}],["__scopeId","data-v-2d02b623"]])},data:()=>({showSplash:!0,gridLayers:[],lightBeams:[],diagonalWaves:[],explosionParticles:[],animationFrame:null}),onLoad(){console.log("🎮 Index page loaded"),this.initDynamicGrid(),this.initLightBeams(),this.initDiagonalWaves(),this.initExplosionParticles(),this.startAllAnimations()},onUnload(){this.animationFrame&&cancelAnimationFrame(this.animationFrame)},methods:{navigateTo:e,onSplashComplete(){this.showSplash=!1,console.log("✅ Splash animation completed")},startGame(){console.log("🎮 Starting game..."),this.navigateTo("game")},showLeaderboard(){console.log("📊 Showing leaderboard..."),this.navigateTo("leaderboard")},shareGame(){console.log("📤 Sharing game...");const t="CyberSnake - 赛博朋克贪吃蛇游戏\nI AM THE SYSTEM";navigator.share?navigator.share({title:"CyberSnake",text:t,url:window.location.href}).catch(t=>console.log("Share failed:",t)):navigator.clipboard.writeText(t+"\n"+window.location.href).then(()=>alert("已复制到剪贴板！")).catch(()=>alert("分享功能需要在支持的浏览器中使用"))},initDynamicGrid(){this.gridLayers=[];for(let t=0;t<10;t++){const e={id:t,baseSize:150-12*t,opacity:.2-.015*t,speed:.8+.4*t,rotationSpeed:.1+.05*t,scaleSpeed:.5+.2*t,offsetX:0,offsetY:0,rotation:0,scale:1,style:{}};this.gridLayers.push(e)}},initLightBeams(){this.lightBeams=[];for(let t=0;t<12;t++){const e={id:t,x:100*Math.random(),width:3+8*Math.random(),height:100,opacity:.4+.6*Math.random(),speed:1+2.5*Math.random(),pulseSpeed:.8+1.2*Math.random(),delay:.3*t,angle:20*Math.random()-10,style:{}};this.lightBeams.push(e)}},initDiagonalWaves(){this.diagonalWaves=[];for(let t=0;t<8;t++){const e={id:t,angle:30+20*t,width:150+80*t,opacity:.08+.03*t,speed:1.2+.6*t,pulseSpeed:.6+.3*t,offset:0,scale:1,style:{}};this.diagonalWaves.push(e)}},initExplosionParticles(){this.explosionParticles=[];for(let t=0;t<20;t++){const e={id:t,x:100*Math.random(),y:100*Math.random(),size:2+6*Math.random(),speed:.8+1.5*Math.random(),direction:Math.random()*Math.PI*2,life:Math.random(),opacity:.6+.4*Math.random(),color:Math.random()>.5?"cyan":"magenta",style:{}};this.explosionParticles.push(e)}},updateGridStyles(){this.gridLayers.forEach(t=>{const e=t.baseSize;t.style={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundImage:`\n            linear-gradient(rgba(10, 255, 255, ${t.opacity}) 1px, transparent 1px),\n            linear-gradient(90deg, rgba(10, 255, 255, ${t.opacity}) 1px, transparent 1px)\n          `,backgroundSize:`${e}px ${e}px`,transform:`translate(${t.offsetX}px, ${t.offsetY}px)`,pointerEvents:"none"}})},startAllAnimations(){const t=()=>{const e=.001*Date.now();this.gridLayers.forEach((t,a)=>{t.offsetX=40*Math.sin(e*t.speed*.8),t.offsetY=30*Math.cos(e*t.speed*.6),t.rotation=e*t.rotationSpeed*10;const s=.3*Math.sin(e*t.scaleSpeed+a);t.scale=1+s;const i=15*Math.sin(e*t.speed+a),n=t.baseSize+i,o=.1*Math.sin(e*t.speed*1.2+.8*a),r=Math.max(0,t.opacity+o);t.style={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundSize:`${n}px ${n}px`,backgroundImage:`\n              linear-gradient(rgba(10, 255, 255, ${r}) 2px, transparent 2px),\n              linear-gradient(90deg, rgba(10, 255, 255, ${r}) 2px, transparent 2px)\n            `,transform:`translate(${t.offsetX}px, ${t.offsetY}px) rotate(${t.rotation}deg) scale(${t.scale})`,pointerEvents:"none",filter:`brightness(${1+2*o}) contrast(${1+o})`}}),this.lightBeams.forEach(t=>{const a=e-t.delay;if(a>0){const e=.5*Math.sin(a*t.speed)+.5,s=.5*Math.sin(a*t.pulseSpeed)+.5,i=t.opacity*e*s,n=t.x+10*Math.sin(.5*a),o=t.width*(1+.5*s);t.style={position:"absolute",left:`${n}%`,top:"0",width:`${o}px`,height:"100%",background:`linear-gradient(180deg,\n                rgba(10, 255, 255, 0) 0%,\n                rgba(255, 0, 255, ${.3*i}) 20%,\n                rgba(10, 255, 255, ${i}) 50%,\n                rgba(255, 0, 255, ${.3*i}) 80%,\n                rgba(10, 255, 255, 0) 100%)`,boxShadow:`\n                0 0 ${3*o}px rgba(10, 255, 255, ${.8*i}),\n                0 0 ${6*o}px rgba(255, 0, 255, ${.4*i})\n              `,transform:`rotate(${t.angle}deg) scaleY(${1+.3*s})`,pointerEvents:"none",filter:`brightness(${1+s}) hue-rotate(${30*a}deg)`}}}),this.diagonalWaves.forEach((t,a)=>{t.offset=e*t.speed*80%(t.width+200);const s=.5*Math.sin(e*t.speed+a)+.5,i=.5*Math.sin(e*t.pulseSpeed+.7*a)+.5,n=t.opacity*s*i;t.scale=1+.4*Math.sin(e*t.pulseSpeed*.8+a);const o=t.angle+15*Math.sin(.3*e+a);t.style={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:`repeating-linear-gradient(\n              ${o}deg,\n              transparent 0px,\n              rgba(10, 255, 255, ${.6*n}) ${t.width/6}px,\n              rgba(255, 0, 255, ${.8*n}) ${t.width/4}px,\n              rgba(10, 255, 255, ${n}) ${t.width/3}px,\n              rgba(255, 0, 255, ${.6*n}) ${t.width/2}px,\n              transparent ${t.width/1.5}px\n            )`,transform:`\n              translateX(${t.offset-t.width}px)\n              scale(${t.scale})\n              rotate(${5*Math.sin(.2*e+a)}deg)\n            `,pointerEvents:"none",filter:`\n              brightness(${1+.5*i})\n              contrast(${1+.3*i})\n              hue-rotate(${20*e+30*a}deg)\n            `}}),this.explosionParticles.forEach(t=>{t.life+=.01,t.life>1&&(t.life=0,t.x=100*Math.random(),t.y=100*Math.random(),t.direction=Math.random()*Math.PI*2);const a=2*t.speed;t.x+=Math.cos(t.direction)*a,t.y+=Math.sin(t.direction)*a,(t.x<0||t.x>100||t.y<0||t.y>100)&&(t.life=1);const s=t.life,i=t.size*(1-.5*s),n=t.opacity*(1-s),o="cyan"===t.color?"10, 255, 255":"255, 0, 255";t.style={position:"absolute",left:`${t.x}%`,top:`${t.y}%`,width:`${i}px`,height:`${i}px`,background:`rgba(${o}, ${n})`,borderRadius:"50%",boxShadow:`0 0 ${2*i}px rgba(${o}, ${.8*n})`,pointerEvents:"none",transform:`scale(${1+.3*Math.sin(5*e+t.id)})`,filter:`brightness(${1.5+.5*Math.sin(3*e+t.id)})`}}),this.animationFrame=requestAnimationFrame(t)};t()}}},[["render",function(t,e,l,p,g,m){const S=h("SplashScreen");return a(),s("view",y,[i("view",w,[i("view",b,[(a(!0),s(n,null,o(g.gridLayers,t=>(a(),s("view",{class:"dynamic-grid-layer",key:t.id,style:r(t.style)},null,4))),128))]),i("view",u,[(a(!0),s(n,null,o(g.lightBeams,t=>(a(),s("view",{class:"light-beam",key:t.id,style:r(t.style)},null,4))),128))]),i("view",f,[(a(!0),s(n,null,o(g.diagonalWaves,t=>(a(),s("view",{class:"diagonal-wave",key:t.id,style:r(t.style)},null,4))),128))]),i("view",x,[(a(!0),s(n,null,o(g.explosionParticles,t=>(a(),s("view",{class:"particle",key:t.id,style:r(t.style)},null,4))),128))]),e[2]||(e[2]=i("view",{class:"floating-particles"},null,-1)),e[3]||(e[3]=i("view",{class:"circuit-lines"},null,-1))]),g.showSplash?(a(),s("view",v,[c(S,{onComplete:m.onSplashComplete},null,8,["onComplete"])])):(a(),s("view",$,[e[4]||(e[4]=d('<view class="game-area-preview" data-v-6b5d7d4a><view class="game-border" data-v-6b5d7d4a></view></view><view class="title-section" data-v-6b5d7d4a><text class="main-title cyber-text" data-v-6b5d7d4a>CYBERSNAKE</text><text class="sub-title cyber-text-secondary" data-v-6b5d7d4a>NEURAL NETWORK ACTIVATED</text></view>',2)),i("view",M,[i("button",{class:"menu-btn cyber-button cyber-pulse",onClick:e[0]||(e[0]=(...t)=>m.startGame&&m.startGame(...t))}," 开始游戏 "),i("button",{class:"menu-btn cyber-button",onClick:e[1]||(e[1]=(...t)=>m.shareGame&&m.shareGame(...t))}," 分享游戏 ")])])),e[5]||(e[5]=i("view",{class:"bg-effects"},[i("view",{class:"grid-bg"}),i("view",{class:"scan-lines"})],-1))])}],["__scopeId","data-v-6b5d7d4a"]]);export{S as default};
